<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title></title>
    <style>
      div {
        position: absolute;
      }
    </style>
  </head>
  <body>
    <p>oida</p>
    <script>
      //Velkommen til helvete
      tilfeldigFirkant();

      function tilfeldigFirkant() {
        var endX = tilfeldigTall(window.innerWidth * 0.2, window.innerWidth);
        var endY = tilfeldigTall(window.innerHeight * 0.2, window.innerHeight);

        var startX = tilfeldigTall(1, endX * 0.8);
        var startY = tilfeldigTall(1, endY * 0.8);
        var bredde = endX - startX;
        var høyde = endY - startY;
        var farge = tilfeldigFarge();
        var divHtml =
          '<div style="' +
          delAvStylePx("left", startX) +
          delAvStylePx("top", startY) +
          delAvStylePx("width", bredde) +
          delAvStylePx("height", høyde) +
          delAvStyle("background-color", farge) +
          ">" +
          tilfeldigOrd() +
          "</div>";
        document.write(divHtml);
        if (Math.random() < 0.9) tilfeldigFirkant();
      }

      function delAvStylePx(navn, verdi) {
        return delAvStyle(navn, verdi + "px");
      }

      function delAvStyle(navn, verdi) {
        return navn + ":" + verdi + ";";
      }

      function tilfeldigFarge() {
        return (
          "#" +
          tilfeldigTallEllerBokstavABCDEF() +
          tilfeldigTallEllerBokstavABCDEF() +
          tilfeldigTallEllerBokstavABCDEF() +
          tilfeldigTallEllerBokstavABCDEF() +
          tilfeldigTallEllerBokstavABCDEF() +
          tilfeldigTallEllerBokstavABCDEF()
        );
      }

      function tilfeldigOrd() {
        let bokstav1 = tilfeldigTallEllerBokstavNORSK();
        let bokstav2 = tilfeldigTallEllerBokstavNORSK();
        let bokstav3 = tilfeldigTallEllerBokstavNORSK();
        let bokstav4 = tilfeldigTallEllerBokstavNORSK();
        let bokstav5 = tilfeldigTallEllerBokstavNORSK();
        return bokstav1 + bokstav2 + bokstav3 + bokstav4 + bokstav5;
      }

      function tilfeldigTallEllerBokstavNORSK() {
        var bokstav = tilfeldigTall(0, 28);
        if (bokstav === 28) return "å";
        if (bokstav === 27) return "ø";
        if (bokstav === 26) return "æ";
        else {
          const charCodeA = "a".charCodeAt(0);
          return String.fromCharCode(bokstav + charCodeA);
        }
      }

      function tilfeldigTallEllerBokstavABCDEF() {
        var tall = tilfeldigTall(0, 15);
        if (tall < 10) return tall;
        const charCodeA = "a".charCodeAt(0);
        return String.fromCharCode(tall - 10 + charCodeA);
      }

      function tilfeldigTall(minimum, maksimum) {
        return minimum + Math.floor(Math.random() * (maksimum - minimum + 1));
      }
    </script>
  </body>
</html>
